<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.com">
<head>
<meta charset="ISO-8859-1">
<link rel="stylesheet" th:href="@{/css/a.css}">

<!-- Bootstrap CSS -->
<link
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
	rel="stylesheet"
	integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
	crossorigin="anonymous">

<link
	href="https://cdn.datatables.net/1.13.4/css/jquery.dataTables.min.css"
	rel="stylesheet">

<title>Home page</title>
</head>

<body>
<div class="container " style="margin-top:50px!important">
	     <div class="row ">
	     	<div class="col-lg-6 col-md-6 col-sm-6 container jistify-content-ccenter card">
	     		<h1 class="text-center">Update NIC</h1>
	<div class="card-body">
		<div class="border p-3 rounded">
		<form th:action="@{/nic/update/{id}(id=${ndata.sl_no})}" th:object="${ndata}" method="post">
				<div class="col-12">
					<label>Enter user_name</label> <input type="text" class="form-control" name="user_name" th:field="*{user_name}">
				</div>
				
				<div class="col-12">
						<label> Choose Station  </label>
						<select class="form-control" id="allStation"  name="station" >
						
												
						 </select>						 
				</div>
				<div class="col-12">
					<label>Enter Date</label> <input type="datetime-local" th:field="*{date}" class="form-control" name="date">
				</div>
				<div class="col-12">
					<label>Enter parameter_name</label> <input type="text"
						class="form-control" name="parameter_name"
						th:field="*{parameter_name}">
				</div>
				<div class="col-12">
					<label>Enter parameter_unit</label> <input type="number"
						class="form-control" name="parameter_unit"
						th:field="*{parameter_unit}">
				</div>
				<div class="col-12">
					<label>Enter status</label> <input type="text" class="form-control"
						name="status" th:field="*{status}">
				</div>
				<div class="col-12">
					<input type="submit" class="btn btn-primary px-4" value="Update">
				</div>
			</form>
		</div>
	</div>
</div>
</div>
</div>

		<script src="https://code.jquery.com/jquery-3.7.0.js"
			integrity="sha256-JlqSTELeR4TLqP0OG9dxM7yDPqX1ox/HfgiSLBj8+kM="
			crossorigin="anonymous"></script>
		<script
			src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
			integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
			crossorigin="anonymous"></script>
			<script src="https://cdn.datatables.net/1.13.4/js/jquery.dataTables.min.js"></script>
			
			<script>		
		$(document).ready(function() {				
	        	$.ajax({
	    			url:"/allstation",
	    			type:"get",	    			
	    			success:function(data,textStatus,jqXHR){ 					 
	    				console.log(data);	    				
	    				 let s="";
	    				for (var key in data) {
	    					if (data.hasOwnProperty(key)) {	 
	    					
	    					 s+="<option  value='"+data[key].station_id+"'  >"+data[key].station_name+"</option>";
	    					}
	    				}
	    				$('#allStation').html(s);
	    				console.log("success...")
	    	  		},
	    		error:function(jqXHR,textStatus,errorThrown){
	    			console.log(jqXHR.responseText);
	    				console.log("error...")
	    			}
	    	    });
		  });  
		</script> 
</body>
</html>